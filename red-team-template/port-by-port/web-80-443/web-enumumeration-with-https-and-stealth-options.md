# Web Enumumeration With HTTPS and Stealth Options

## Set Temporaty Variables

#### **IP**

```
ip=192.168.1.10
```

#### **User Agents**

```
agent1="Mozilla/5.0 (Windows; U; Windows NT 5.1; de; rv:1.9.2.3) Gecko/20100401 Firefox/3.6.3"
```

```
agent2="Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
```

#### **Diccionarios**

```
common="/usr/share/seclists/Discovery/Web-Content/common.txt" \
big="/usr/share/seclists/Discovery/Web-Content/big.txt" \
cgis="/usr/share/dirb/wordlists/vulns/cgis.txt" \
raft="/usr/share/golismero/wordlist/fuzzdb/Discovery/PredictableRes/raft-large-words.txt" \
status-codes="200,204,301,302,307,403,500"
```

#### **>>> Reconnaissance:** **HTTPS** curl -k https://$ip -s -L | html2text -width '99' | uniq > curl\_-k\_-s\_-L\_html2text\_uniq.txt curl $ip -s -L > 08.02\_curl\_-k\_-s\_-L\_RAW.txt  **>>> Checking Headers:** **Stealth: change user-agent** HTTP: **** curl -A $agent1 -i http://$ip > curl\_-A\_-i\_Mozilla.txt HTTPS: curl -k -A $agent1 -i https://$ip > curl\_-k\_-A\_-i\_Mozilla.txt   **>>> Looking for hidden web applications:**  • Checking robots.txt: **Stealth: change user-agent** curl -A $agent1 http://$ip > curl\_-A\_Mozilla\_robots.txt\_-s\_html2text.txt?  • URL brute force (common.txt): **Stealth: change user-agent** gobuster -r -u http://$ip/ --a $agent2 --threads 1 -w $common -s $status-codes -e -o gobuster\_Mozilla\_common.txt  • URL brute force (big.txt): **Stealth: change user-agent:** gobuster -r -u http://$ip/ --a $agent2 --threads 1 -w $big -s $status-codes -e -o gobuster\_--useragent\_Mozilla\_big.txt   • URL brute force (CGI-bin): **Stealth: change user-agent:** gobuster -r -u http://$ip/ --a $agent2 --threads 1 -w $cgis -s $status-codes -e -o gobuster\_--useragent\_Mozilla\_cgis.txt   • URL brute force (raft-large-words.txt): **Stealth: change user-agent:** gobuster -r -u http://$ip/ --a $agent2 --threads 1 -w $raft -s $status-codes -e -o gobuster\_-r\_--useragent\_Mozilla\_raft.txt   **>>> Trying to upload a file if PUT is allowed:** echo "test" > test.txt **Stealth: change user-agent** curl -A $agent1 --upload-file test.txt -v --url http://$ip > curl\_-A\_Mozilla\_--upload-file\_-v.txt   **>>> Nikto:** Stealth: change default user-agent in /etc/nikto.conf USERAGENT=Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36 nikto -host $ip -C all -port 80 -output 08.14\_nikto\_-C\_all\_-timeout\_15\_-port\_80.txt   **>>> Interesting discovered pages:**  
